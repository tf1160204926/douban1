angular.module("yike",["ngRoute","Controller"]).config(["$routeProvider",function(o){o.when("/today",{templateUrl:"./views/today.html",controller:"todayController"}).when("/older",{templateUrl:"./views/older.html",controller:"olderController"}).when("/favourite",{templateUrl:"./views/favourite.html",controller:"favouriteController"}).when("/setting",{templateUrl:"./views/setting.html",controller:"settingController"}).when("/preview",{templateUrl:"./views/preview.html",controller:"previewController"}).when("/preview/:id",{templateUrl:"./views/preview/select.html",controller:"selectController"}).when("/hotauthor",{templateUrl:"./views/author.html",controller:"authorController"}).when("/hotauthor/authorWork/:id",{templateUrl:"./views/authorWork.html",controller:"authorWorkController"}).when("/center",{templateUrl:"./views/center.html",controller:"centerController"}).otherwise({redirectTo:"/today"})}]).config(["$locationProvider",function(o){o.hashPrefix("")}]).run(["$rootScope",function(o){var e=document.getElementsByClassName("nav")[0],t=document.getElementsByClassName("container")[0],l=t.children[0],n=e.children[0].getElementsByTagName("dd"),r=!1;o.toggle=function(o){if(console.log(),!1===r){e.style.left=0,t.style.marginLeft="12.8125rem",l.style.left="12.8125rem";for(var c=0;c<n.length;c++)n[c].style.transform="translateX(0)",n[c].style.transitionDelay="0.2s",n[c].style.transitionDuration=.15*(c+1)+"s";r=!0}else{e.style.left="-12.8125rem",t.style.marginLeft=0,l.style.left=0;for(var i=n.length,a=i-1;a>=0;a--)n[a].style.transform="translateX(-100%)",n[a].style.transitionDelay="",n[a].style.transitionDuration=.15*(i-a)+"s";r=!1}}}]),angular.module("Controller",[]).controller("leftController",["$scope","$filter","$http","$rootScope",function(o,e,t,l){l.lists=[{link:"#/today",ico:"icon-home",title:"今日一刻"},{link:"#/older",ico:"icon-file-empty",title:"往期内容"},{link:"#/hotauthor",ico:"icon-pencil",title:"热门作者"},{link:"#/preview",ico:"icon-menu",title:"栏目浏览"},{link:"#/favourite",ico:"icon-heart",title:"我的收藏"},{link:"#/setting",ico:"icon-cog",title:"设置"}]}]).controller("todayController",["$scope","$filter","$http","$rootScope","$location",function($scope,$filter,$http,$rootScope,$location){console.log(888);var today=$filter("date")(new Date,"yyyy-MM-dd");$rootScope.title="今日一刻",$rootScope.index=0,$rootScope.actived=!1,$rootScope.uploaded=!1,$http({method:"get",url:"./api/today.php",params:{today:today}}).then(function successCallback(info){$scope.date=info.data.date,$scope.posts=info.data.posts,$rootScope.uploaded=!0,$scope.content=function(url,data,i){console.log(this),self.location.href=url,eval("$scope.myObjtoday"+i+"={'color' : '#999'}")}},function(o){alert("失败")})}]).controller("olderController",["$http","$scope","$rootScope",function($http,$scope,$rootScope){$rootScope.title="往期内容",$rootScope.index=1,$rootScope.uploaded=!1,$http({method:"get",url:"./api/older.php"}).then(function successCallback(info){$scope.date=info.data.date,$scope.posts=info.data.posts,$rootScope.uploaded=!0,$scope.content=function(url,i){self.location.href=url,eval("$scope.myObjolder"+i+"={'color':'#999'}")}},function(o){alert("请求失败")})}]).controller("authorController",["$http","$scope","$rootScope",function(o,e,t){t.index=2,t.title="热门作者",t.uploaded=!1,e.clicked=!1,e.complete=!1,o({url:"./api/author.php",method:"get",params:{loadmore:"no"}}).then(function(o){t.uploaded=!0,e.week=o.data.week,e.all=o.data.all},function(o){console.log("请求失败")}),e.more=function(){e.clicked=!0,o({url:"./api/author.php",method:"GET",params:{loadmore:"more"}}).then(function(o){e.complete=!0,e.more=o.data.more},function(o){console.log(o)})}}]).controller("previewController",["$http","$scope","$rootScope","$location",function(o,e,t,l){t.index=3,t.title="栏目预览",t.uploaded=!1,o({url:"./api/preview.php",method:"GET"}).then(function(o){t.uploaded=!0,e.data=o.data},function(o){console.log(o)})}]).controller("selectController",["$rootScope","$scope","$location","$http",function($rootScope,$scope,$location,$http){$rootScope.title=$location.search().name,$rootScope.uploaded=!1,$http({url:"./api/preview/select.php",method:"GET",params:{id:$location.search().id}}).then(function successCallback(info){$rootScope.uploaded=!0,$scope.data=info.data,$scope.content=function(url,i){self.location.href=url,eval("$scope.myObjselect"+i+"={'color':'#999'}")}},function(o){console.log(o)})}]).controller("favouriteController",["$rootScope",function(o){o.title="我的喜欢",o.index=4}]).controller("settingController",["$rootScope","$scope",function($rootScope,$scope){$rootScope.title="设置",$rootScope.index=5,$scope.items=[{title:"正文字号",instruction:"18号",open:0},{title:"启用推送",instruction:"接受推送",open:1},{title:"自动离线",instruction:"已启用WIFI网络下自动离线下载",open:1},{title:"检查更新",instruction:"检查是否有新版本",open:0},{title:"意见反馈",instruction:"给我们发送意见和建议",open:0},{title:"绑定分享账号",instruction:"绑定微博",ico:"icon-sina-weibo",open:2},{title:"开源许可",instruction:"开放源代码软件的许可详情",open:0},{title:"关于",instruction:"1.7.10",open:0}];for(var i=0;i<$scope.items.length;i++)$scope.open=!0,$scope.change=function(index){!0===$scope.open&&eval("$scope.bool"+index+"=1"),!1!==$scope.open&&void 0!==$scope.open||eval("$scope.bool"+index+"=0"),$scope.open=!$scope.open}}]).controller("authorWorkController",["$http","$rootScope","$scope","$location",function($http,$rootScope,$scope,$location){$rootScope.uploaded=!1,$scope.clicked=!1;var id=$location.search().id;console.log(id),$http({url:"./api/author/authorWork.php",method:"GET",params:{id:id}}).then(function successCallback(info){console.log(info),$rootScope.uploaded=!0,$scope.data=info.data,$rootScope.title=info.data.author.name+"的主页",$scope.content=function(url,i){self.location.href=url,eval("$scope.myObjwork"+i+"={'color':'#999'}")},$scope.main=function(o){self.location.href=o},$scope.morework=function(){var o=info.data.author.id;console.log(o),$http({url:"./api/author/workMore.php",method:"get",params:{id:o}}).then(function(o){$scope.datawork=o.data,$scope.clicked=!0},function(o){console.log(o)})}},function(o){console.log(o)})}]).controller("centerController",["$http","$rootScope","$scope",function(o,e,t){e.title="豆瓣主页"}]);